(this["webpackJsonpanki-tower"]=this["webpackJsonpanki-tower"]||[]).push([[0],{25:function(e,t,n){},34:function(e,t,n){e.exports=n(44)},39:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),i=(n(39),n(9)),s=n(11),u=(n(25),n(21)),l=n.n(u),h=n(22),m=n(19),f=n(12),g=function(){function e(t){var n=t.name,a=t.goal,r=void 0===a?1:a,o=t.successRate,c=void 0===o?.85:o,i=t.ease,s=void 0===i?2:i,u=t.current,l=void 0===u?0:u;Object(m.a)(this,e),console.log(s),this.name=n,this.goal=r,this.successRate=c,this.ease=s||2,this.current=l,console.log("ease is 2? ",this.ease)}return Object(f.a)(e,[{key:"export",value:function(){return{name:this.name,goal:this.goal,successRate:this.successRate,ease:this.ease,current:this.current}}},{key:"increment",value:function(e){console.log(),this.current+=parseInt(e)}},{key:"cron",value:function(e){switch(!1!==(e=parseInt(e))&&this.current<this.goal&&(e=0),console.log("000000000"),console.log(this.ease),console.log(this.current/this.goal),this.ease*=this.current/this.goal,console.log(this.ease),console.log("000000000"),e){case!1:break;case 0:this.decreaseEase(),this.goal=1;break;case 1:this.goal=Math.max(this.goal,this.current)*this.ease;break;case 2:this.increaseEase(),console.log(this.goal),console.log(this.current),console.log(this.ease),this.goal=Math.max(this.goal,this.current)*this.ease;break;default:console.log("unknown grade ",e)}this.current=0}},{key:"getGoal",value:function(){return Math.ceil(this.goal)}},{key:"decreaseEase",value:function(){this.ease=.5*this.ease}},{key:"increaseEase",value:function(){this.ease=this.ease*Math.pow(.5,1-1/this.successRate)}},{key:"ease",set:function(e){this._ease=Math.max(e,1.3)},get:function(){return this._ease}}]),e}(),v=!1,d=function(){},b={set:function(e,t,n){return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(v){a.next=2;break}return a.abrupt("return");case 2:return e[t]=n,a.next=5,l.a.awrap(E(p).then((function(){return!0})).catch((function(e){return!1})));case 5:case"end":return a.stop()}}))}},p=[];function E(e){return Object(h.b)("HABIT_OBJECTS_ARRAY",e.map((function(e){return e.export()}))).then((function(){d(e)}))}function k(e){var t=new g(e),n=new Proxy(t,b);return t.getGoal=t.getGoal.bind(n),t.increment=t.increment.bind(n),t.cron=t.cron.bind(n),n}Object(h.a)("HABIT_OBJECTS_ARRAY").then((function(e){if(e)for(var t=0;t<e.length;t++)p[t]=k(e[t])})).catch((function(e){return console.log(e)})).then((function(){p=new Proxy(p,b),d(p),v=!0}));var y=Object(a.createContext)(p),w=n(64),x=n(59),O=n(63),j=n(60),C=n(61);function R(e){var t=e.habit,n=t.name,o=t.current,c=t.getGoal,i=t.increment,u=t.cron,l=Object(a.useState)(0),h=Object(s.a)(l,2),m=h[0],f=h[1];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",null,n),r.a.createElement("p",null,"You have done ",o," today"),r.a.createElement("p",null,"Your goal for today is ",c())),r.a.createElement("input",{onChange:function(e){return f(e.target.value)},value:m,type:"number"}),r.a.createElement("button",{onClick:function(e){e.preventDefault(),i(m)}},"Increment"),r.a.createElement("div",null,"Score yesterday's work!",r.a.createElement("button",{onClick:function(e){e.preventDefault(),u(2)}},"Easy"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),u(1)}},"Okay"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),u(0)}},"I'm sore"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),u(-1)}},"Just reset")))}var A=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(a.useContext)(y),i=Object(a.useState)(0),u=Object(s.a)(i,2),l=u[0],h=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{value:c.length?l:"new",onChange:function(e,t){h(t)},indicatorColor:"primary",textColor:"primary",centered:!0},c&&c.map((function(e,t){return r.a.createElement(x.a,{key:t,label:e.name})})),r.a.createElement(x.a,{value:"new",label:"Add new"})),r.a.createElement(O.a,{my:"50px",padding:"20px"},r.a.createElement(j.a,{maxWidth:"md"},r.a.createElement(C.a,{padding:"20px"},r.a.createElement(O.a,{my:"50px",padding:"20px"},"new"===l||0===c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{value:n,onChange:function(e){return o(e.target.value)}}),r.a.createElement("button",{onClick:function(e){e.preventDefault(),function(e){var t=k({name:e});p.push(t)}(n),o("")}},"Add New Habit")):r.a.createElement(R,{key:c[l].name,habit:c[l]}))))))};var I=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){d=function(e){return o(Object(i.a)(e))}||function(){}}),[]),r.a.createElement(y.Provider,{value:n},r.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.1366da9d.chunk.js.map